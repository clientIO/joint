<!DOCTYPE html>
<html>
    <head>

        <link rel="canonical" href="http://www.jointjs.com/" />
        <meta name="description" content="Create interactive diagrams in JavaScript easily. JointJS plugins for ERD, Org chart, FSA, UML, PN, DEVS, LDM diagrams are ready to use." />
        <meta name="keywords" content="JointJS, JavaScript, diagrams, diagramming library, UML, charts" />

        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

        <link rel="stylesheet" href="css/tutorial.css" />
        <link rel="stylesheet" href="../node_modules/prismjs/themes/prism.css">
        <link rel="stylesheet" href="../node_modules/prismjs/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="../node_modules/prismjs/plugins/line-highlight/prism-line-highlight.css">

        <!-- Dependencies: -->
        <script src="../node_modules/jquery/dist/jquery.js"></script>
        <script src="../node_modules/lodash/index.js"></script>
        <script src="../node_modules/backbone/backbone.js"></script>

        <link rel="stylesheet" type="text/css" href="../build/joint.min.css" />
        <script type="text/javascript" src="../build/joint.min.js"></script>

        <title>JointJS - JavaScript diagramming library - Getting started.</title>

    </head>
    <body class="language-javascript tutorial-page">

        <script>
            SVGElement.prototype.getTransformToElement = SVGElement.prototype.getTransformToElement || function (toElement) {
                return toElement.getScreenCTM().inverse().multiply(this.getScreenCTM());
            };
        </script>

        <div class="tutorial">

            <h2>Special Attributes</h2>

            <p>Special attributes are JointJS-specific attributes that offer functionality beyond that of native SVG
                attributes.</p>

            <p>The main way to define the styling of diagram elements, links, and labels in JointJS is through
                <code>attrs</code> objects.
                If the attributes passed are standard SVG attributes, they are merely passed down to the individual
                SVGElements of the shape; then it is the job of the browser to apply them to the elements and render
                the shapes in the requested manner when asked to do so by JointJS View classes.
                However, if JointJS encounters one of its special attributes, it takes over with custom logic in order
                to offer advanced functionality; the results are then encoded back as standard SVG attributes.
                <a href="custom-attributes.html">Advanced users of JointJS can even define their own custom
                attributes.</a></p>

            <p>All JointJS special attributes use camelCase naming.
                For consistency, it is thus very strongly recommended that you make use JointJS's ability to translate
                camelCase into native SVG's kebab-case, and use camelCase when setting native SVG attributes as
                well.</p>

            <p>A list of native SVG attributes can be found elsewhere on the Internet; have a look, for example, at
                <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute">MDN's SVG Attribute reference</a>.
                In this section of the tutorial, we want to show you what additional things JointJS allows you to
                do.</p>

            <h3>Relative Attributes</h3>

            <p>One of the most common requests when working with SVG is to adjust the dimensions of one element
                depending on the dimensions of another element.
                JointJS allows you to do that with a suite of <code>ref</code> attributes.
                The <code>ref</code> attribute itself specifies which selector should act as a parent; the element
                whose dimensions will serve as a reference.
                Then, the specific <code>ref</code> methods determine how that information should be used by the child
                element.</p>

            <p>For the two following examples, we will define a custom element named <code>DoubleRectangle</code>, a
                subtype of <code>joint.dia.Element</code>.
                We want it to have two SVGRectElements - a red-tinted <code>rectangle</code> and a blue-tinted
                <code>rectangle2</code>, respectively:</p>

            <pre><code>var DoubleRectangle = joint.dia.Element.define('examples.DoubleRectangle', {
    attrs: {
        rect: {
            strokeWidth: 1,
            stroke: '#000000'
        },
        rectangle: {
            fill: 'rgba(255,0,0,0.3)'
        },
        rectangle2: {
            fill: 'rgba(0,0,255,0.3)'
        }
    }
}, {
    markup: [{
        tagName: 'rect',
        selector: 'rectangle',
    }, {
        tagName: 'rect',
        selector: 'rectangle2'
    }]
});</code></pre>

            <p>We create an instance of DoubleRectangle, and name it <code>element</code>.
                We specify that width and height of <code>rectangle2</code> within <code>element</code> should both be
                set as <code>50%</code> of the width and height of <code>rectangle</code>.
                We can see that the dimensions of <code>rectangle2</code> start off as 50% of <code>rectangle</code>,
                and are automatically updated to maintain that ratio even as we set the dimensions of
                <code>rectangle</code> to change automatically:</p>

            <div class="paper" id="paper-special-attributes-rectangles"></div>

            <pre><code>var element = new DoubleRectangle({
    attrs: {
        rectangle: {
            width: 100,
            height: 100
        },
        rectangle2: {
            ref: 'rectangle',
            refWidth: '50%',
            refHeight: '50%'
        }
    }
});</code></pre>


                It provides an extensive set of non-standard special attributes that allow you
                <a href="/docs/jointjs#dia.attributes.ref" target="_blank">specify attributes relatively to other
                shape selectors</a>, among other things.</p>

            <p>We mentioned special JointJS attributes in connection with <a href="elements.html">element</a>, and
                <a href="links.html">link styling</a>; they are additional non-standard attributes that allow
                They can be used in your <a href="links.html">links</a>, and even in the
                <a href="link-labels.html">labels of your links</p>

        </div><!--end tutorial-->

        <script src="../node_modules/prismjs/prism.js"></script>

        <script src="js/special-attributes-rectangles.js"></script>
    </body>
</html>
