<!DOCTYPE html>
<html lang="en">
    <head>

        <meta name="description" content="Create interactive diagrams in JavaScript easily. JointJS plugins for ERD, Org chart, FSA, UML, PN, DEVS, LDM diagrams are ready to use." />
        <meta name="keywords" content="JointJS, JavaScript, diagrams, diagramming library, UML, charts" />

        <link rel="stylesheet" href="css/tutorial.css" />
        <link rel="stylesheet" href="../node_modules/prism-themes/themes/prism-one-light.css">

        <!-- Dependencies: -->
        <script src="../node_modules/jquery/dist/jquery.js"></script>
        <script src="../node_modules/lodash/lodash.js"></script>
        <script src="../node_modules/backbone/backbone.js"></script>


        <link rel="stylesheet" type="text/css" href="../build/joint.min.css" />
        <script type="text/javascript" src="../build/joint.min.js"></script>

        <title>JointJS - JavaScript diagramming library - Getting started.</title>

    </head>
    <body class="language-javascript tutorial-page">

        <script>
            SVGElement.prototype.getTransformToElement = SVGElement.prototype.getTransformToElement || function (toElement) {
                return toElement.getScreenCTM().inverse().multiply(this.getScreenCTM());
            };
        </script>

        <div id="connecting-by-dropping" class="tutorial">

            <h1>Connecting an element by dropping it over another element</h1>

            <p>
                <strong>Disclaimer</strong> 
                - 
                <i>
                    The following tutorial was created with a past version of JointJS. The tutorial is still provided for 
                    those who may face a similar problem, but it may no longer show the best practices of JointJS. You may
                    encounter the following issues:
                </i>
            </p>

            <ul>
                <li>Use of outdated/deprecated API calls, or inheritance from superseded shape collections.</li>
                <li>Use of SVG string markup for custom Element/Link shape definitions; we have since started
                recommending using JSON markup instead.</li>
                <li>The Element and Link types defined may not serialize properly.</li>
                <li>Other unexpected problems.</li>
            </ul>

            <p><i>
                Our current recommendations on best practices can be found in the appropriate sections of the
                <a href="hello-world.html">basic</a> and <a href="intermediate.html">intermediate</a> tutorials.
            </i></p>

            <p>This quick tutorial shows how to automatically create links when the user drops an element over another
                element.
                Note that this is not necessary if you have elements with ports. For more details on elements with ports,
                see
                the <a href="/tutorial/ports" target="_top">Working with Ports</a> tutorial.
            </p>

            <p>Let's start with a demo and then let's have a look on how this can be done.</p>

            <p>
                <small>Try to drag an element and drop it over another element. You should see a new link has
                    been created between the two elements.
                </small>
            </p>

            <div id="paper-connection-by-dropping" class="paper"></div>
            <script src="js/connecting-by-dropping.js"></script>

            <p>The trick is to listen on the <code>element:pointerup</code> event on the paper and search for
                an element whose area contains the point of the mouse cursor. If such an element was found,
                we just create a link connecting both elements and move the dropped element to the position before dragging (we stored this information on the <code>element:pointerdown</code> event) to give the user a clue of what just happend.</p>

            <pre data-src="js/connecting-by-dropping.js"></pre>

        </div>

        <script src="../node_modules/prismjs/prism.js"></script>

    </body>
</html>
