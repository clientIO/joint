import { Meta, Story, Canvas, Controls, Markdown } from '@storybook/addon-docs/blocks';
import * as Stories from './story';
import Code from './code?raw';

<Meta of={Stories} />

# Using Highlighters

This example demonstrates how to use the `useHighlighter` hook to create visual emphasis on elements in your diagram.

## Overview

Highlighters are useful for:
- **Hover effects**: Show visual feedback when users interact with elements
- **Selection states**: Indicate which elements are currently selected
- **Focus indicators**: Highlight elements that have focus or are being edited
- **Status indicators**: Show different states (active, disabled, error, etc.)

## Demo

<Canvas of={Stories.Mask} />
<Canvas of={Stories.Opacity} />
<Canvas of={Stories.Custom} />

## Implementation

<Markdown>
{`\`\`\`tsx
${Code}
\`\`\``}
</Markdown>

## Available Highlighter Types (Hook API)

### Mask
Creates a border/mask around the element.

```tsx
import { useRef } from 'react';
import { useHighlighter } from '@joint/react';

const ref = useRef<SVGRectElement>(null);
useHighlighter({
  type: 'mask',
  isEnabled: true,
  padding: 5,
  attrs: { stroke: 'blue', 'stroke-width': 2 },
  ref,
});
```

### Opacity
Changes the opacity of the element.

```tsx
import { useRef } from 'react';
import { useHighlighter } from '@joint/react';

const ref = useRef<SVGRectElement>(null);
useHighlighter({
  type: 'opacity',
  isEnabled: true,
  alphaValue: 0.5,
  ref,
});
```

### Custom Highlighter
Create your own custom highlighting effect.

```tsx
import { useRef } from 'react';
import { useHighlighter } from '@joint/react';
import { highlighters } from '@joint/core';

const ref = useRef<SVGRectElement>(null);
useHighlighter({
  type: 'custom',
  isEnabled: true,
  padding: 10,
  rx: 5,
  ry: 5,
  create: ({ cellView, element, highlighterId, options }) =>
    highlighters.mask.add(cellView, element, highlighterId, options),
  ref,
});
```

## Best Practices

1. **Use refs**: Attach a stable ref to the SVG element you want to highlight
2. **Conditional behavior**: Use `isEnabled` to toggle highlighting
3. **Performance**: Highlighters are lightweight and don't impact rendering performance
4. **Accessibility**: Consider color contrast and visual indicators for accessibility
