import { Meta, Story, Canvas, Controls, Markdown } from '@storybook/addon-docs/blocks';
import * as Stories from './story';
import Code from './code?raw';

<Meta of={Stories} />

# Link Tools

This example demonstrates how to add interactive tools to links in your diagram. Link tools provide visual controls for editing and manipulating links, such as removing connections, adding waypoints, or triggering custom actions.

## Overview

Link tools are interactive UI elements that appear on links when certain conditions are met (e.g., on hover). They enable users to:
- Remove links with delete buttons
- Add waypoints to links
- Trigger custom actions
- Edit link properties

## Demo

<Canvas of={Stories.Default} />

## Implementation

<Markdown>
{`\`\`\`tsx
${Code}
\`\`\``}
</Markdown>

## How It Works

1. **Define Tools**: Create link tools using JointJS's `linkTools` API
2. **Use JSX Utility**: The `jsx` utility converts JSX into JointJS markup for tool definitions
3. **Event Handlers**: Use `onLinkMouseEnter` and `onLinkMouseLeave` to show/hide tools
4. **Tool Actions**: Define what happens when tools are clicked

## Key Concepts

### Creating Link Tools

```tsx
import { linkTools } from '@joint/core';
import { jsx } from '@joint/react';

const removeButton = new linkTools.Button({
  markup: jsx(
    <circle r={7} fill="#FF0000" cursor="pointer" />
  ),
  distance: 60,
  action: (evt, linkView) => {
    linkView.model.remove();
  },
});
```

### Showing/Hiding Tools

```tsx
<Paper
  onLinkMouseEnter={({ linkView }) => {
    linkView.addTools(toolsView);
  }}
  onLinkMouseLeave={({ linkView }) => {
    linkView.removeTools();
  }}
/>
```

## Best Practices

1. **Show on hover**: Display tools when users hover over links for better UX
2. **Use JSX utility**: Leverage the `jsx` utility for cleaner tool definitions
3. **Customize appearance**: Style tools to match your design system
4. **Handle actions**: Implement proper cleanup and state updates in tool actions

For more information, see the [Link Tools documentation](https://resources.jointjs.com/tutorial/link-tools).









